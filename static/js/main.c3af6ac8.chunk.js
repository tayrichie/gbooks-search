(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,n){e.exports=n(400)},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},202:function(e,t){},204:function(e,t){},235:function(e,t){},236:function(e,t){},284:function(e,t){},286:function(e,t){},309:function(e,t){},400:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(70),s=n.n(o),u=(n(182),n(18)),c=n(19),i=n(22),l=n(20),m=n(21),h=(n(183),n(184),n(34)),p=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("li",null,a.a.createElement("strong",null,"Author:")," ",this.props.authors?this.props.authors.map(function(e){return e}):"No author recorded",a.a.createElement("br",null),a.a.createElement("strong",null,"Title:")," ",this.props.title,a.a.createElement("br",null),a.a.createElement("small",null,a.a.createElement("strong",null,"Publication Dates:")," ",this.props.date))}}]),t}(r.Component),b=n(176),f=n(16),d=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).findCommonAuthor=n.findCommonAuthor.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"findCommonAuthor",value:function(e){var t,n=e.map(function(e){return e.volumeInfo.authors}),r=(t=[]).concat.apply(t,Object(b.a)(n)),a=r.sort(function(e,t){return r.filter(function(t){return t===e}).length-r.filter(function(e){return e===t}).length}).pop();return void 0===a&&(a="no author recorded"),a}},{key:"render",value:function(){var e=this.findCommonAuthor(this.props.results);return a.a.createElement("aside",{className:"results-info"},a.a.createElement("strong",null,"Total Results: ")," ",this.props.resultsCount,a.a.createElement("br",null),a.a.createElement("strong",null,"Common Author: ")," ",e,a.a.createElement("br",null),a.a.createElement("em",null,"returned in")," ",a.a.createElement("strong",null,void 0===this.props.responseTime?0:this.props.responseTime," seconds"))}}]),t}(r.Component),g="SEARCH_AUTHOR",v="SET_PAGE";function O(e){return{type:v,payload:{currentPage:e}}}var j=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).switchPage=n.switchPage.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"switchPage",value:function(e){dispatchEvent(O)}},{key:"render",value:function(){for(var e=this.props.itemsPerPage,t=this.props.resultsCount/e,n=[],r=0;r<t;r++)n.push(r+1);return a.a.createElement("ul",{className:"pagination"},n.map(function(e,t){return a.a.createElement("li",{key:t},a.a.createElement("button",{type:"button",value:e},e))}))}}]),t}(r.Component),y={setPage:O},E=Object(h.b)(function(e){return{currentPage:e.currentPage,itemsPerPage:e.itemsPerPage}},y)(j),P=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props.results.results,n=t.slice(0,10);return e=t.length>0?n.map(function(e,t){return a.a.createElement(p,{key:t,authors:e.volumeInfo.authors,title:e.volumeInfo.title,date:e.volumeInfo.publishedDate})}):a.a.createElement("li",null,"Sorry, there are no results."),a.a.createElement("div",{className:"results-container"},e.length?a.a.createElement(d,{results:n,resultsCount:t.length,responseTime:this.props.results.responseTime}):null,e.length?a.a.createElement("ul",{className:"results-list"},e):null,e.length?a.a.createElement(E,{itemsPerPage:this.props.itemsPerPage,resultsCount:t.length}):null)}}]),t}(r.Component),w=Object(h.b)(function(e){return{results:e.results,responseTime:e.responseTime}},null)(P),k=n(71),C=n(174),T=n.n(C);var S=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={apiKey:"AIzaSyDDGBpdHwDPOvh_k7rrt8c2FQUFFSvwUq4",searchQuery:""},n.onChange=n.onChange.bind(Object(f.a)(Object(f.a)(n))),n.onSubmit=n.onSubmit.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={key:this.state.apiKey,searchQuery:this.state.searchQuery};this.props.searchAuthor(t)}},{key:"render",value:function(){return a.a.createElement("div",{className:"search-container"},a.a.createElement("form",{onSubmit:this.onSubmit,className:"search-form"},a.a.createElement("label",{htmlFor:"searchQuery",className:"search-label"},a.a.createElement("h1",null,"Search For a Title")),a.a.createElement("input",{type:"text",onChange:this.onChange,placeholder:"Enter Book Title",id:"searchQuery",name:"searchQuery",className:"search-field",value:this.state.searchQuery}),a.a.createElement("button",{type:"submit",id:"bookQuerySubmit",className:"search-submit"},"Search")))}}]),t}(r.Component),A={searchAuthor:function(e){var t="https://www.googleapis.com/books/v1/volumes?q=".concat(e.searchQuery,"&key=").concat(e.key,"&maxResults=40"),n=0;return T()({uri:t,method:"GET",time:!0},function(e,t){e?console.log(e):n=t.timings.response/1e3}),function(e){fetch(t,{method:"GET"}).then(function(e){return e.json()}).then(function(t){return e({type:g,payload:{results:t.items,responseTime:n}})})}},setPage:O},N=Object(h.b)(function(e){return{results:e.results,responseTime:e.responseTime,itemsPerPage:e.itemsPerPage}},A)(S),Q=n(37),D=n(175),I=n(72),F={results:[],responseTime:0},B={currentPage:1,pageSet:0,itemsPerPage:10},G=Object(Q.c)({results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(I.a)({},e,{results:t.payload.results,responseTime:t.payload.responseTime});default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(I.a)({},e,{currentPage:t.payload.currentPage});default:return e}}}),R=[D.a],x=Object(Q.d)(G,{},Q.a.apply(void 0,R)),H=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(h.a,{store:x},a.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),a.a.createElement("main",{id:"main",className:"app-wrapper"},a.a.createElement(N,null),a.a.createElement(w,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[177,1,2]]]);
//# sourceMappingURL=main.c3af6ac8.chunk.js.map